<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 560" fill="none">
  <style>
    text { font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
    .box { fill: #1a1a1a; stroke: #2a2a2a; stroke-width: 1.5; }
    .box-online { fill: #1a1a1a; stroke: #555555; stroke-width: 1.5; }
    .label { fill: #e8e8e8; font-size: 13px; font-weight: 600; }
    .sublabel { fill: #888888; font-size: 10px; }
    .arrow { stroke: #555555; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
    .arrow-down { stroke: #555555; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
    .divider { stroke: #555555; stroke-width: 1; stroke-dasharray: 6 4; }
    .divider-label { fill: #555555; font-size: 11px; font-weight: 500; letter-spacing: 0.1em; }
    .zone-label { fill: #888888; font-size: 10px; font-weight: 600; letter-spacing: 0.15em; text-transform: uppercase; }
    .plane-border { fill: none; stroke: #333333; stroke-width: 1.5; rx: 4; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#555555"/>
    </marker>
  </defs>

  <!-- ONLINE ZONE label -->
  <text x="40" y="58" class="zone-label">ONLINE</text>

  <!-- Gmail API box -->
  <rect x="40" y="72" width="160" height="50" class="box-online" rx="0"/>
  <text x="120" y="102" text-anchor="middle" class="label">Gmail API</text>

  <!-- Arrow: Gmail -> Sync -->
  <line x1="200" y1="97" x2="358" y2="97" class="arrow"/>

  <!-- Sync box -->
  <rect x="360" y="72" width="220" height="50" class="box-online" rx="0"/>
  <text x="470" y="95" text-anchor="middle" class="label">sync-full</text>
  <text x="470" y="112" text-anchor="middle" class="sublabel">sync-incremental</text>

  <!-- Offline divider -->
  <line x1="20" y1="160" x2="780" y2="160" class="divider"/>
  <rect x="310" y="149" width="180" height="22" fill="#0a0a0a"/>
  <text x="400" y="165" text-anchor="middle" class="divider-label">OFFLINE BOUNDARY</text>

  <!-- Arrow: Sync down to data plane -->
  <path d="M 470 122 L 470 148 L 400 148 L 400 204" class="arrow-down"/>

  <!-- Query plane bounding box -->
  <rect x="30" y="206" width="740" height="180" class="plane-border" rx="4"/>
  <text x="50" y="226" class="zone-label">Query Plane</text>

  <!-- SQLite box (center) -->
  <rect x="300" y="238" width="200" height="58" class="box" rx="0"/>
  <text x="400" y="265" text-anchor="middle" class="label">SQLite</text>
  <text x="400" y="282" text-anchor="middle" class="sublabel">system of record</text>

  <!-- Arrow: SQLite right to Parquet -->
  <line x1="500" y1="267" x2="558" y2="267" class="arrow"/>

  <!-- Parquet box -->
  <rect x="560" y="238" width="190" height="44" class="box" rx="0"/>
  <text x="655" y="265" text-anchor="middle" class="label">Parquet Cache</text>

  <!-- Arrow: Parquet down to DuckDB -->
  <line x1="655" y1="282" x2="655" y2="300" class="arrow-down"/>

  <!-- DuckDB box -->
  <rect x="560" y="302" width="190" height="58" class="box" rx="0"/>
  <text x="655" y="325" text-anchor="middle" class="label">DuckDB</text>
  <text x="655" y="342" text-anchor="middle" class="sublabel">accelerated queries</text>

  <!-- Arrow: SQLite left to Attachments -->
  <line x1="300" y1="267" x2="252" y2="267" class="arrow"/>

  <!-- Attachments box -->
  <rect x="50" y="238" width="200" height="58" class="box" rx="0"/>
  <text x="150" y="265" text-anchor="middle" class="label">Attachments</text>
  <text x="150" y="282" text-anchor="middle" class="sublabel">content-addressed store</text>

  <!-- Arrow: SQLite down to FTS5 -->
  <line x1="400" y1="296" x2="400" y2="318" class="arrow-down"/>

  <!-- FTS5 box -->
  <rect x="300" y="320" width="200" height="44" class="box" rx="0"/>
  <text x="400" y="347" text-anchor="middle" class="label">FTS5 Search Index</text>

  <!-- Arrows from data plane to query interfaces -->
  <line x1="140" y1="386" x2="140" y2="438" class="arrow-down"/>
  <line x1="400" y1="386" x2="400" y2="438" class="arrow-down"/>
  <line x1="660" y1="386" x2="660" y2="438" class="arrow-down"/>

  <!-- Query interfaces -->
  <rect x="40" y="440" width="200" height="58" class="box" rx="0"/>
  <text x="140" y="467" text-anchor="middle" class="label">CLI</text>
  <text x="140" y="484" text-anchor="middle" class="sublabel">search, export, stats, chat</text>

  <rect x="300" y="440" width="200" height="58" class="box" rx="0"/>
  <text x="400" y="467" text-anchor="middle" class="label">Interactive TUI</text>

  <rect x="560" y="440" width="200" height="58" class="box" rx="0"/>
  <text x="660" y="467" text-anchor="middle" class="label">MCP Server</text>
  <text x="660" y="484" text-anchor="middle" class="sublabel">read-only, no sync</text>

</svg>
