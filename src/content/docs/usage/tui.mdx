---
title: Interactive TUI
description: Terminal interface for exploring, filtering, and managing your email archive.
---

import Screenshot from '../../../components/Screenshot.astro';

## Launch

```bash
# Launch the TUI
msgvault tui

# Filter by account
msgvault tui --account you@gmail.com
```

The TUI automatically builds or updates the Parquet analytics cache on launch when new messages are detected.

<Screenshot src="/tui-senders.svg" alt="msgvault TUI showing the Senders view with message counts and sizes" />

Press `a` from any aggregate view to show all individual messages in that view. Press `Enter` on a message to view its full detail, including headers and body.

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
  <figure style="margin: 0; text-align: center;" data-lightbox>
    <img src="/tui-all-messages.svg" alt="msgvault TUI showing all messages list" style="width: 100%; border-radius: 4px;" />
    <figcaption style="font-size: 0.8rem; color: #888; margin-top: 0.3rem;">All messages</figcaption>
  </figure>
  <figure style="margin: 0; text-align: center;" data-lightbox>
    <img src="/tui-message-detail.svg" alt="msgvault TUI showing a single message detail view" style="width: 100%; border-radius: 4px;" />
    <figcaption style="font-size: 0.8rem; color: #888; margin-top: 0.3rem;">Message detail</figcaption>
  </figure>
</div>

## View Modes

The TUI provides seven aggregate view modes. Press `g` to cycle through them:

| View | Description |
|---|---|
| Senders | Aggregate by sender email address |
| Sender Names | Aggregate by sender display name (falls back to email when no name is set) |
| Recipients | Aggregate by recipient email address |
| Recipient Names | Aggregate by recipient display name (falls back to email when no name is set) |
| Domains | Aggregate by sender domain |
| Labels | Aggregate by Gmail label |
| Time | Aggregate by time period (year/month/day) |

<Screenshot src="/tui-labels.svg" alt="msgvault TUI Labels view showing Gmail label breakdown" />

### Time View

Press `t` from any view to jump directly to the Time view. The Time view aggregates messages by time period. When already in Time view, pressing `t` cycles between monthly, daily, and yearly granularity:

<div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem;">
  <figure style="margin: 0; text-align: center;" data-lightbox>
    <img src="/tui-time-monthly.svg" alt="Time view: monthly granularity" style="width: 100%; border-radius: 4px;" />
    <figcaption style="font-size: 0.8rem; color: #888; margin-top: 0.3rem;">Monthly</figcaption>
  </figure>
  <figure style="margin: 0; text-align: center;" data-lightbox>
    <img src="/tui-time-daily.svg" alt="Time view: daily granularity" style="width: 100%; border-radius: 4px;" />
    <figcaption style="font-size: 0.8rem; color: #888; margin-top: 0.3rem;">Daily</figcaption>
  </figure>
  <figure style="margin: 0; text-align: center;" data-lightbox>
    <img src="/tui-time-yearly.svg" alt="Time view: yearly granularity" style="width: 100%; border-radius: 4px;" />
    <figcaption style="font-size: 0.8rem; color: #888; margin-top: 0.3rem;">Yearly</figcaption>
  </figure>
</div>

## Drill-down and Sub-grouping

Press `Enter` to drill into any row. For example, selecting a sender shows their individual messages. Press `Esc` or `Backspace` to go back.

<Screenshot src="/tui-drilldown.svg" alt="msgvault TUI drill-down showing messages from a specific sender" />

From a drill-down view, press `g` to re-aggregate the filtered messages by a different dimension. You can think of this like an interactive pivot table. The cycle skips the dimension you drilled into — and when drilling from an email address view (Senders or Recipients), it also skips the corresponding name view since it would be redundant. For example, drilling into a sender and pressing `g` cycles through Recipients, Recipient Names, Domains, Labels, and Time.

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
  <figure style="margin: 0; text-align: center;" data-lightbox>
    <img src="/tui-subgroup-recipients.svg" alt="Sub-grouped by Recipients after drilling into a sender" style="width: 100%; border-radius: 4px;" />
    <figcaption style="font-size: 0.8rem; color: #888; margin-top: 0.3rem;">A sender's email grouped by recipient</figcaption>
  </figure>
  <figure style="margin: 0; text-align: center;" data-lightbox>
    <img src="/tui-subgroup-time.svg" alt="Sub-grouped by Time after drilling into a sender" style="width: 100%; border-radius: 4px;" />
    <figcaption style="font-size: 0.8rem; color: #888; margin-top: 0.3rem;">A sender's mail grouped by month</figcaption>
  </figure>
</div>

## Searching

Press `/` to open a search bar that filters the current view in real time. Matching text is highlighted in the results. At the aggregate level (Senders, Domains, etc.), search runs fast DuckDB queries over Parquet, so results appear instantly even on large archives.

<Screenshot src="/tui-search-sender.svg" alt="msgvault TUI search filtering senders by name with highlighted matches" />

Search also works after drill-down. Drill into a result, then press `/` again to search within that context. This second-level search uses deep FTS5 full-text search over message subjects and bodies. You can progressively narrow results: find a sender, drill in, then search for a specific subject or keyword.

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
  <Screenshot src="/tui-search-drilldown.svg" alt="Drilled into search result showing messages from a specific sender" />
  <Screenshot src="/tui-search-subject.svg" alt="Searching within a sender's messages by subject keyword with highlighted matches" />
</div>

## Filtering

Press `f` to open the filter modal. The modal presents two independent toggles that you can combine:

| Filter | Effect |
|---|---|
| Only with attachments | Show only messages that have attachments |
| Hide deleted from source | Exclude messages that have been deleted from Gmail |

<Screenshot src="/tui-filter-modal.svg" alt="msgvault TUI filter modal with checkbox toggles for attachments and hide deleted" />

Use `↑`/`↓` to navigate, `Space` or `x` to toggle a filter, and `Enter` or `Esc` to apply and close. Active filters are shown in the title bar (e.g. `[Attachments]`, `[Hide Deleted]`). Filters apply to all views: aggregates, drill-downs, sub-aggregates, search results, and stats.

## Viewing Email Threads

From any message list (after drilling into a sender, label, domain, etc.), press `T` to open the full email thread for the highlighted message. This renders the complete conversation inline in the terminal, including sender, date, and body text for each message in the thread.

<Screenshot src="/tui-thread.svg" alt="msgvault TUI showing a full email thread conversation" />

Press `Esc` to return to the message list.

## Keyboard Shortcuts

| Key | Action |
|---|---|
| `j` / `k` or `↑` / `↓` | Navigate rows |
| `Enter` | Drill down into selection |
| `T` | View full email thread |
| `Esc` / `Backspace` | Go back |
| `g` | Cycle view mode |
| `s` | Cycle sort field (Name / Count / Size) |
| `v` | Reverse sort direction |
| `t` | Jump to Time view (cycle granularity when already in Time) |
| `a` | Show all individual messages in current view |
| `A` | Filter by account |
| `f` | Open filter modal |
| `Space` | Toggle selection |
| `d` | Stage selected for deletion |
| `D` | Stage all matching current filter |
| `/` | Search |
| `?` | Help |
| `q` | Quit |

## Marking Emails for Deletion

You can stage individual messages or bulk-delete entire aggregate groups (e.g. all emails from a sender, all messages with a given label) at once. Use `Space` to select one or more rows, then press `d` to stage them. From any aggregate view, press `D` to stage every message in the current group without selecting individual rows.

<Screenshot src="/tui-selection.svg" alt="msgvault TUI with rows selected for deletion staging" />

A confirmation dialog shows exactly how many messages will be staged before anything happens. Messages are not deleted immediately; they are placed in a deletion batch that you review and execute separately with `msgvault delete-staged`.

<Screenshot src="/tui-deletion.svg" alt="msgvault TUI deletion confirmation dialog showing bulk staging" />

See [Deleting Email](/usage/deletion/) for the full deletion workflow.

## Performance

The TUI is built on DuckDB querying Parquet metadata exports, not the raw SQLite database. This architecture delivers aggregate queries (top senders, domains, labels, time series) **hundreds of times faster** than equivalent SQLite JOINs. The Parquet analytics layer has a small footprint, so drill-down and re-aggregation feel instant even on very large archives.

See [Data Storage](/architecture/storage/) for details on how this works.
