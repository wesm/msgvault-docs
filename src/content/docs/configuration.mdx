---
title: Configuration
description: Configuration file reference, environment variables, and file locations.
---

## Config File

Default location: `~/.msgvault/config.toml`

```toml
[data]
# Base data directory (default: ~/.msgvault)
data_dir = "/path/to/msgvault/data"

# Database URL (default: {data_dir}/msgvault.db)
database_url = "/path/to/msgvault.db"

[oauth]
# Path to Google OAuth client secrets JSON (required)
client_secrets = "/path/to/client_secret.json"

[sync]
# Gmail API rate limit (requests per second)
rate_limit_qps = 5

[chat]
# Ollama API endpoint
server = "http://localhost:11434"
# Model name
model = "gpt-oss-128k"
# Maximum messages to retrieve per query
max_results = 20
```

## Sections

### `[data]`

| Key | Default | Description |
|---|---|---|
| `data_dir` | `~/.msgvault` | Base directory for all data |
| `database_url` | `{data_dir}/msgvault.db` | SQLite database path |

Attachments and OAuth tokens are stored in subdirectories of `data_dir` (`attachments/` and `tokens/` respectively). These paths are not independently configurable.

### `[oauth]`

| Key | Default | Description |
|---|---|---|
| `client_secrets` | â€” | Path to Google OAuth `client_secret.json` (required) |

### `[sync]`

| Key | Default | Description |
|---|---|---|
| `rate_limit_qps` | `5` | Gmail API requests per second |

### `[chat]`

| Key | Default | Description |
|---|---|---|
| `server` | `http://localhost:11434` | Ollama API endpoint |
| `model` | `gpt-oss-128k` | Model name |
| `max_results` | `20` | Maximum messages to retrieve per query |

## Environment Variables

| Variable | Description |
|---|---|
| `MSGVAULT_HOME` | Base directory for all data (default: `~/.msgvault`) |

## File Locations

| Path | Contents |
|---|---|
| `~/.msgvault/config.toml` | Configuration file |
| `~/.msgvault/msgvault.db` | SQLite database (system of record) |
| `~/.msgvault/attachments/` | Content-addressed attachment files |
| `~/.msgvault/tokens/` | OAuth tokens per account |
| `~/.msgvault/analytics/` | Parquet cache files for TUI |
